<div class="row">
	<h1 class="four cell"><a data-reload>Pages</a></h1>
	<div class="contextual-buttons eight cell">
		<div class="display-buttons">
			<i class="show-list"
			   ng-class="{ selected: template.contains('websites-list', 'websites-table-list') }"
			   ng-click="template.open('websites-list', 'websites-table-list')"></i>
			<i class="show-icons"
			   ng-class="{ selected: template.contains('websites-list', 'websites-icons-list') }"
			   ng-click="template.open('websites-list', 'websites-icons-list')"></i>
		</div>
		<div class="action-buttons">
			<button ng-click="display.createNewSite = true" workflow="pages.create">Nouveau site</button>
			<lightbox show="display.createNewSite" on-close="createNewSite = false">
				<h2>Créer un nouveau site web</h2>
				<div class="row">
						<div class="row">
							<label class="three cell">Titre</label>
							<input class="nine cell" type="text" ng-model="website.title" />
						</div>
				</div>
				<div class="row">
					<button class="right-magnet" ng-click="createSite()">Créer</button>
					<input type="button" class="cancel right-magnet" i18n-value="cancel" ng-click="cancelSiteCreation()" />

				</div>
			</lightbox>
		</div>
	</div>
</div>

<div class="row">
	<nav class="vertical four cell">
		<ul>
			<li>
				<a ng-class="{ selected: folder === mySites }" ng-click="openFolder('mySites')">
					Mes sites
				</a>
			</li>
			<li>
				<a ng-class="{ selected: folder === sharedSites }" ng-click="openFolder('sharedSites')">
					Sites partagés avec moi
				</a>
			</li>
		</ul>
	</nav>

	<section class="eight cell">
		<container template="websites-list"></container>
	</section>
</div>

<div ng-if="display.showSharePanel">
	<lightbox show="display.showSharePanel" on-close="display.showSharePanel = false">
		<share-panel app-prefix="'pages'" resources="folder.websites.selection()"></share-panel>
	</lightbox>
</div>


<div class="toggle-buttons" ng-class="{ hide: folder.websites.selection().length < 1 }">
	<div class="row toggle">
		<behaviour name="share" resource="folder.websites.selection()" class="cell">
			<button ng-click="display.showSharePanel = true">Partager</button>
		</behaviour>
		<behaviour name="update" resource="folder.websites.selection()" class="cell">
			<button ng-if="folder.websites.selection().length === 1" ng-click="editWebsite()">Modifier</button>
		</behaviour>
		<behaviour name="remove" resource="folder.websites.selection()" class="cell">
			<button ng-click="removeSelectedWebsites()">Supprimer</button>
		</behaviour>
	</div>
</div>
