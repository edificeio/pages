

<div class="four cell">
	<h2>[[website.title]]</h2>
	<div class="row">
		<image-select ng-model="website.icon" default="/img/illustrations/blog.png" thumbnails="[{ width: 150, height: 150 }]" class="two cell" ng-change="website.save()"></image-select>
		<div class="nine cell">
			<div class="row">
				<label class="five cell">Titre</label>
				<input class="seven cell" type="text" ng-model="website.title" complete-change="website.save()" />
			</div>
			<div class="row" ng-if="website.pages.length() > 0">
				<label class="five cell">Page d'accueil</label>
				<select ng-options="page.title for page in website.pages.all" ng-change="website.save()" ng-model="website.startPage" class="seven cell"></select>
			</div>
		</div>

	</div>


	<button ng-click="showSharePanel = true">Partager</button>
	<button ng-click="showConfirmRemove = true">Supprimer</button>
	<lightbox show="showConfirmRemove" on-close="showConfirmRemove = false">
		<h2>Supprimer le site</h2>

		<p>Voulez-vous vraiment supprimer votre site web ?</p>

		<div class="row">
			<button class="right-magnet" ng-click="removeSite(website)">
				Supprimer
			</button>
			<input class="cancel right-magnet" i18n-value="cancel" type="button" ng-click="showConfirmRemove = false" />

		</div>
	</lightbox>
	<lightbox show="showSharePanel" on-close="showSharePanel = false">
		<share-panel app-prefix="'pages'" resources="website"></share-panel>
	</lightbox>
</div>

<div class="eight cell">
	<div class="contextual-buttons">
		<div class="action-buttons">
			<button ng-click="createNewPage = true">Nouvelle page</button>
			<button ng-click="createNewPage = true">Modifier le site</button>
		</div>
	</div>
	<lightbox show="createNewPage" on-close="createNewPage = false">
		<h2>Nouvelle page</h2>
		<div class="row">
			<label>Titre</label>
			<input type="text" ng-model="page.title" />
		</div>
		<div class="row">
			<button ng-click="createPage()" class="right-magnet">
				Créer
			</button>
			<input type="button" i18n-value="cancel" class="right-magnet cancel" ng-click="createNewPage = false" />
		</div>
	</lightbox>
	<table class="twelve">
		<tr>
			<th><input type="checkbox" ng-model="display.selectAll" ng-change="switchAllPages()"/></th>
			<th>Page</th>
			<th>Dernière modification</th>
		</tr>
		<tr ng-repeat="page in website.pages.all">
			<td><input type="checkbox" ng-model="page.selected" /></td>
			<td ng-click="editPage(page)">[[page.title]]</td>
			<td ng-click="editPage(page)">[[date.format(page.modificationDate, 'DD/MM/YYYY')]]</td>
		</tr>
	</table>
</div>

<div class="toggle-buttons" ng-class="{ hide: website.pages.selection().length < 1 }">
	<div class="row">
		<button>Utiliser en page d'accueil</button>
		<button>Modifier</button>
		<button>Supprimer</button>
	</div>
</div>