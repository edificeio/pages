<h1><a data-reload>Pages</a></h1>
<div class="four cell">
	<h2>[[website.title]]</h2>


	<lightbox show="showConfirmRemove" on-close="showConfirmRemove = false">
		<h2>Supprimer le site</h2>

		<p>Voulez-vous vraiment supprimer votre site web ?</p>

		<div class="row">
			<button class="right-magnet" ng-click="removeSite(website)">
				Supprimer
			</button>
			<input class="cancel right-magnet" i18n-value="cancel" type="button" ng-click="showConfirmRemove = false" />

		</div>
	</lightbox>

</div>

<div class="twelve cell">
	<div class="contextual-buttons">
		<div class="action-buttons">
			<button ng-click="display.createNewPage = true">Nouvelle page</button>
			<button ng-click="template.open('main', 'website-properties')">Modifier les propriétés</button>
		</div>
	</div>
	<lightbox show="display.createNewPage" on-close="display.createNewPage = false">
		<h2>Nouvelle page</h2>
		<div class="row">
			<label class="three cell">Titre</label>
			<input class="nine cell" type="text" ng-model="page.title" />
		</div>
		<div class="row">
			<button ng-click="createPage()" class="right-magnet">
				Créer
			</button>
			<input type="button" i18n-value="cancel" class="right-magnet cancel" ng-click="cancelPageCreation()" />
		</div>
	</lightbox>
	<table class="twelve">
		<tr>
			<th><input type="checkbox" ng-model="display.selectAll" ng-change="switchAllPages()"/></th>
			<th>Page</th>
			<th>Dernière modification</th>
		</tr>
		<tr ng-repeat="page in website.pages.all">
			<td><input type="checkbox" ng-model="page.selected" /></td>
			<td ng-click="editPage(page)"><a>[[page.title]]</a></td>
			<td ng-click="editPage(page)"><a>[[date.format(page.modificationDate, 'DD/MM/YYYY')]]</a></td>
		</tr>
	</table>
</div>

<div class="row">
	<input type="button" i18n-value="back" class="cancel right-magnet" ng-click="closeWebsite()" />
</div>

<div class="toggle-buttons" ng-class="{ hide: website.pages.selection().length < 1 }">
	<div class="row toggle">
		<button ng-click="setLandingPage()" ng-if="website.pages.selection().length === 1">Utiliser en page d'accueil</button>
		<button ng-click="removeSelectedPages()">Supprimer</button>
	</div>
</div>